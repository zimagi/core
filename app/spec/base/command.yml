command_base:
  platform:
    # platform mixin included with base command
    groups_allowed: [admin]
    bootstrap_ensure: true
    background: false
  host:
    # host mixin included with base command
    groups_allowed: [admin]
    background: false
  user:
    # user mixin included with base command
    groups_allowed: [user-admin]
    bootstrap_ensure: true
    background: false
  group:
    # group mixin included with base command
    groups_allowed: [user-admin, config-admin]
    background: false
  config:
    # config mixin included with base command
    groups_allowed: [config-admin]
    background: false
  state:
    # state mixin included with base command
    groups_allowed: [config-admin]
    background: false
  module:
    # module mixin included with base command
    groups_allowed: [module-admin]
    bootstrap_ensure: true
    background: false
  schedule:
    # schedule mixin included with base action command
    groups_allowed: [schedule-admin]
    background: false
  notification:
    # notification mixin included with base action command
    groups_allowed: [notification-admin]
    background: false
  service:
    mixins: [service]
    groups_allowed: [admin]
    background: false
  db:
    mixins: [db]
    groups_allowed: [db-admin]
    background: true
  qdrant_admin:
    mixins: [qdrant]
    groups_allowed: [db-admin]
    worker_type: qdrant
    background: true
  cache:
    groups_allowed: [admin]
    background: false
  log:
    # log mixin included with base action command
    groups_allowed: []
    background: false
  scaling_event:
    mixins: [scaling_event]
    groups_allowed: [admin]
    background: false
  import:
    groups_allowed: [admin]
    background: true
  calculate:
    groups_allowed: [admin]
    background: true
  dataset:
    mixins: [dataset]
    groups_allowed: [data-admin]
    background: true
  gpu:
    groups_allowed: [admin]
    background: true
  ai:
    mixins: [language_model, qdrant]
    groups_allowed: [chat-user]
    background: false
  chat:
    mixins: [chat, qdrant]
    groups_allowed: [chat-user]
    background: false
  mcp:
    mixins: [language_model, chat, qdrant]
    groups_allowed: [ai-user]
    mcp_enabled: true
  agent:
    # base command for service agents (run by controller)
    mixins: [agent]
    groups_allowed: [admin]
    background: false
    parse:
      - lifetime
      - pause
  cell:
    base: agent
    mixins: [cell, chat, qdrant, language_model]
    worker_type: cell
    parse:
      - lifetime
      - pause
      - agent_goal
      - agent_rules
      - agent_user
      - agent_chat_key
      - agent_sensor
      - agent_sensor_filters
      - agent_message_fields
      - agent_message_field_labels
      - agent_memory_search_field
      - agent_assistant_search_limit
      - agent_assistant_search_min_score
      - agent_system_template
      - agent_request_template
      - agent_tools_template
      - agent_assistant_template      -
      - agent_output_token_percent
      - agent_assistant_output_token_percent
      - agent_tools
      - agent_channel
      - agent_channel_field_map
  library:
    mixins: [library]
    groups_allowed: [ai-user, chat-user]
    background: false
  browser:
    groups_allowed: [browser-user]
    background: false
